"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const waves_crypto_1 = require("waves-crypto");
const generic_1 = require("../generic");
exports.cancelOrderParamsToBytes = (cancelOrderParams) => waves_crypto_1.concat(waves_crypto_1.BASE58_STRING(cancelOrderParams.senderPublicKey), waves_crypto_1.BASE58_STRING(cancelOrderParams.orderId));
function cancelOrder(params, seed) {
    const t = Date.now();
    const seedsAndIndexes = generic_1.convertToPairs(seed);
    const senderPublicKey = generic_1.getSenderPublicKey(seedsAndIndexes, params);
    const cancelOrderBody = {
        senderPublicKey,
        sender: senderPublicKey,
        orderId: params.orderId,
        timestamp: t,
        signature: waves_crypto_1.signBytes(waves_crypto_1.concat(waves_crypto_1.BASE58_STRING(senderPublicKey), waves_crypto_1.BASE58_STRING(params.orderId)), seed),
    };
    return cancelOrderBody;
}
exports.cancelOrder = cancelOrder;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FuY2VsLW9yZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3RyYW5zYWN0aW9ucy9jYW5jZWwtb3JkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwrQ0FBOEY7QUFDOUYsd0NBQWtGO0FBR3JFLFFBQUEsd0JBQXdCLEdBQUcsQ0FBQyxpQkFBa0QsRUFBRSxFQUFFLENBQUMscUJBQU0sQ0FDcEcsNEJBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsRUFDaEQsNEJBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FDekMsQ0FBQTtBQUVELFNBQWdCLFdBQVcsQ0FBQyxNQUEwQixFQUFFLElBQVk7SUFDbEUsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBRXJCLE1BQU0sZUFBZSxHQUFHLHdCQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDN0MsTUFBTSxlQUFlLEdBQUcsNEJBQWtCLENBQUMsZUFBZSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBRXBFLE1BQU0sZUFBZSxHQUFpQjtRQUNwQyxlQUFlO1FBQ2YsTUFBTSxFQUFFLGVBQWU7UUFDdkIsT0FBTyxFQUFFLE1BQU0sQ0FBQyxPQUFPO1FBQ3ZCLFNBQVMsRUFBRSxDQUFDO1FBQ1osU0FBUyxFQUFFLHdCQUFTLENBQ2xCLHFCQUFNLENBQUMsNEJBQWEsQ0FBQyxlQUFlLENBQUMsRUFBRSw0QkFBYSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUNyRSxJQUFJLENBQ0w7S0FDRixDQUFDO0lBRUYsT0FBTyxlQUFlLENBQUE7QUFDeEIsQ0FBQztBQWxCRCxrQ0FrQkMifQ==